{% load static %}
{% load thumbnail %}
{% load pipeline %}
<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">

<head>
    {% comment %} Metadata {% endcomment %}

    {% comment %} Page-based {% endcomment %}

    {% if view == "FrontPage" %}
    <meta name="description" content="{{ metadata.desc }}" />
    <meta itemprop="name" content="{{ name }} - {{ metadata.slogan }} | {{ username }}">
    <meta itemprop="description" content="{{ metadata.desc }}" />
    {% thumbnail logo "1200x1200" format="JPEG" as jpeg %}
    <meta itemprop="image" content="https://{{ request.get_host }}{{ jpeg.url }}">
    <meta property="og:image" content="https://{{ request.get_host }}{{ jpeg.url }}">
    {% endthumbnail %}
    <meta property="og:title" content="{{ name }} - {{ metadata.slogan }} | {{ username }}" />
    <meta property="og:description" content="{{ metadata.desc }}" />
    <meta name="twitter:card" content="summary">
    <title>{{ name }} - {{ metadata.slogan }} | {{ username }}</title>
    {% elif is_article %}
    <meta name="description" content="{{ article_metadata.preview }}" />
    <meta itemprop="name" content="{{ article_metadata.title }} | {{ username }}">
    <meta itemprop="description" content="{{ article_metadata.preview }}" />
    {% thumbnail article_metadata.image "1200x600" format="JPEG" as jpeg %}
    <meta itemprop="image" content="https://{{ request.get_host }}{{ jpeg.url }}">
    <meta property="og:image" content="https://{{ request.get_host }}{{ jpeg.url }}">
    {% endthumbnail %}
    <meta property="og:title" content="{{ article_metadata.title }} | {{ username }}" />
    <meta property="og:description" content="{{ article_metadata.preview }}" />
    <meta name="twitter:card" content="summary_large_image">
    <title>{{ article_metadata.title }} | {{ username }}</title>
    {% else %}
    <meta name="description" content="{{ metadata.desc }}" />
    <meta itemprop="name" content="{{ name }} - {{ view }} | {{ username }}">
    <meta itemprop="description" content="{{ metadata.desc }}" />
    {% thumbnail logo "1200x1200" format="JPEG" as jpeg %}
    <meta itemprop="image" content="https://{{ request.get_host }}{{ jpeg.url }}">
    <meta property="og:image" content="https://{{ request.get_host }}{{ jpeg.url }}">
    {% endthumbnail %}
    <meta property="og:title" content="{{ name }} - {{ view }} | {{ username }}" />
    <meta property="og:description" content="{{ metadata.desc }}" />
    <meta name="twitter:card" content="summary">
    {% if tag %}
    <title>#{{ tag }} | {{ username }}</title>
    {% else %}
    <title>{{ name }} - {{ view }} | {{ username }}</title>
    {% endif %}
    {% endif %}

    {% comment %} Generic {% endcomment %}
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, height=device-height, user-scalable=no, initial-scale=1, maximum-scale=1" />

    {% comment %} Disable tap highlight on IE {% endcomment %}
    <meta name="msapplication-tap-highlight" content="no">

    {% comment %} Mobile Google Chrome {% endcomment %}
    <meta name="theme-color" content="#03a9f4" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="{{ username }}">

    {% comment %} Mobile Safari {% endcomment %}
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="{{ username }}" />

    {% thumbnail logo "512x512" format="PNG" as png %}
    <link rel="apple-touch-icon" href="https://{{ request.get_host }}{{ png.url }}">
    {% endthumbnail %}
    {% thumbnail logo "76x76" format="PNG" as png %}
    <link rel="apple-touch-icon" sizes="76x76" href="https://{{ request.get_host }}{{ png.url }}">
    {% endthumbnail %}
    {% thumbnail logo "120x120" format="PNG" as png %}
    <link rel="apple-touch-icon" sizes="120x120" href="https://{{ request.get_host }}{{ png.url }}">
    {% endthumbnail %}
    {% thumbnail logo "152x152" format="PNG" as png %}
    <link rel="apple-touch-icon" sizes="152x152" href="https://{{ request.get_host }}{{ png.url }}">
    <link rel="apple-touch-startup-image" href="https://{{ request.get_host }}{{ png.url }}" />
    {% endthumbnail %}

    {% thumbnail logo "70x70" format="PNG" as png %}
    <meta name="msapplication-square70x70logo" content="https://{{ request.get_host }}{{ png.url }}">
    {% endthumbnail %}
    {% thumbnail logo "150x150" format="PNG" as png %}
    <meta name="msapplication-square150x150logo" content="https://{{ request.get_host }}{{ png.url }}">
    {% endthumbnail %}    

    {% comment %} Facebook Meta Tags {% endcomment %}
    <meta property="og:url" content="https://{{ request.get_host }}{{ request.get_full_path }}" />
    <meta property="og:site_name" content="{{ username }}" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />

    {% comment %} Twitter Meta Tags {% endcomment %}
    <meta name="twitter:site" content="@{{ username }}" />
    <meta name="twitter:creator" content="@{{ username }}">

    {% comment %} Tile icon for Win8 (144x144 + tile color) {% endcomment %}
    {% thumbnail logo "144x144" format="JPEG" as jpeg %}
    <meta name="msapplication-TileImage" content="https://{{ request.get_host }}{{ jpeg.url }}">
    {% endthumbnail %}
    <meta name="msapplication-TileColor" content="#03a9f4">

    {% comment %} SEO {% endcomment %}
    <link rel="canonical" href="https://{{ request.get_host }}{{ request.get_full_path }}">

    {% comment %} Favicon {% endcomment %}
    {% thumbnail favicon "16x16" format="PNG" as png %}
    <link rel="icon" href="https://{{ request.get_host }}{{ png.url }}" sizes="16x16">
    {% endthumbnail %}
    {% thumbnail favicon "32x32" format="PNG" as png %}
    <link rel="icon" href="https://{{ request.get_host }}{{ png.url }}" sizes="32x32">
    {% endthumbnail %}
    {% thumbnail favicon "152x152" format="PNG" as png %}
    <link rel="icon" href="https://{{ request.get_host }}{{ png.url }}" sizes="152x152">
    {% endthumbnail %}
    {% thumbnail favicon "196x196" format="PNG" as png %}
    <link rel="icon" href="https://{{ request.get_host }}{{ png.url }}" sizes="196x196">
    {% endthumbnail %}
    <link rel="mask-icon" href="{% static 'img/favicon.svg' %}" color="#000000">

    {% comment %} Critical CSS {% endcomment %}
    {% if is_article %}
    {% stylesheet 'article' %}
    {% else %}
    {% stylesheet 'critical' %}
    {% endif %}
</head>

<body>
    {% comment %} Desktop navigation {% endcomment %}
    <nav>
        <div class="nav-wrapper container">
            <a href="" data-target="slide-out" class="sidenav-trigger">
                <i class="material-icons">menu</i>
            </a>

            <ul class="left hide-on-med-and-down">
                <li>
                    <a href="/" aria-label="Return to front page" class="brand-logo"><img alt="{{ username }}"
                            src="{% static 'img/ceiphr_alt.svg' %}"></a>
                </li>
            </ul>

            <ul class="right hide-on-med-and-down">
                <li class="{% if view == "Projects" %} active {% endif %}">
                    <a href="/projects">Projects</a>
                </li>
                <li class="{% if view == "Blog" %} active {% endif %}">
                    <a href="/blog">Blog</a>
                </li>
                <li class="{% if view == "Events" %} active {% endif %}">
                    <a href="/events">Events</a>
                </li>
                <li class="{% if view == "Skills" %} active {% endif %}">
                    <a href="/skills">Skills</a>
                </li>
                <li class="{% if view == "Contact" %} active {% endif %}">
                    <a href="/contact">Contact</a>
                </li>
                <li>
                    <a href="https://changelog.ceiphr.com" aria-label="Changelog"><i
                            class="material-icons right">track_changes</i>Changelog</a>
                </li>
                <li>
                    <a href="{{ document.url }}" target="_blank" class="waves-effect waves-light btn" aria-label="Resume"><i
                            class="material-icons right">file_download</i>Résumé</a>
                </li>
            </ul>
        </div>
    </nav>

    {% comment %} Mobile slideout navigation {% endcomment %}
    <ul id="slide-out" class="sidenav">
        <li>
            <div class="user-view">
                <div class="background">
                </div>
                <a href="/" aria-label="Return to front page">
                    <picture>
                        {% thumbnail logo "120x120" format="WEBP" as webp %}
                        <source data-srcset="{{ webp.url }}" type="image/webp">
                        {% endthumbnail %}
                        {% thumbnail logo "120x120" format="JPEG" as jpeg %}
                        <source data-srcset="{{ jpeg.url }}" type="image/jpeg">
                        {% endthumbnail %}
                        <img class="circle lazyload" alt="{{ username }}">
                    </picture>
                </a>
                <span class="white-text name">{{ name }}</span>
                <span class="white-text email">{{ email }}</span>
            </div>
        </li>

        <li>
            <a href="/projects" class="waves-effect" aria-label="Projects">
                <i class="material-icons">collections</i>Projects</a>
        </li>
        <li>
            <a href="/blog" class="waves-effect" aria-label="Blog">
                <i class="material-icons">notes</i>Blog</a>
        </li>
        <li>
            <a href="/events" class="waves-effect" aria-label="Events">
                <i class="material-icons">event</i>Events</a>
        </li>
        <li>
            <a href="/skills" class="waves-effect" aria-label="Skills">
                <i class="material-icons">school</i>Skills</a>
        </li>
        <li>
            <a href="/contact" class="waves-effect" aria-label="Contact">
                <i class="material-icons">email</i>Contact</a>
        </li>
        <li>
            <div class="divider" class="waves-effect"></div>
        </li>
        <li>
            <a href="https://changelog.ceiphr.com" class="waves-effect" aria-label="Changelog">
                <i class="material-icons">track_changes</i>Changelog</a>
        </li>
        <li>
            <a class="waves-effect" href="{{ document.url }}" aria-label="Resume"><i
                    class="material-icons light-blue-text">file_download</i>Résumé</a>
        </li>
    </ul>
    {% block content %}
    {% endblock content %}
    {% if view != "Thanks" and view != "404" %}
    {% comment %} Footer contents {% endcomment %}
    <div class="footer__wrapper">
        <footer class="footer">
            <div class="footer__text">
                {% for link in links %}
                <a href="{{ link.url }}">{{ link.title }}</a>
                {% empty %}
                {% endfor %}
                <a href="/rss20.xml"> 
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M 5 3 C 4.7255584 3 4.464854 3.0577836 4.2265625 3.1582031 C 3.7454353 3.3609573 3.3609573 3.7454353 3.1582031 4.2265625 C 3.1082327 4.3451402 3.0674441 4.4688029 3.0410156 4.5976562 C 3.0408867 4.5982727 3.041144 4.5989927 3.0410156 4.5996094 C 3.0145833 4.7291159 3 4.8627874 3 5 L 3 19 C 3 19.136633 3.0140817 19.270982 3.0410156 19.400391 C 3.0411432 19.401016 3.0408874 19.401719 3.0410156 19.402344 C 3.0679423 19.531095 3.1073942 19.654638 3.1582031 19.773438 C 3.3609573 20.254565 3.7454353 20.639043 4.2265625 20.841797 C 4.3451402 20.891767 4.4688029 20.932556 4.5976562 20.958984 C 4.5982727 20.959113 4.5989927 20.958856 4.5996094 20.958984 C 4.7291159 20.985417 4.8627874 21 5 21 L 19 21 C 19.273266 21 19.5347 20.943901 19.773438 20.841797 C 20.254565 20.639043 20.639043 20.254565 20.841797 19.773438 C 20.943901 19.5347 21 19.273266 21 19 L 21 5 C 21 4.7267343 20.943901 4.4652998 20.841797 4.2265625 C 20.639043 3.7454353 20.254565 3.3609573 19.773438 3.1582031 C 19.654638 3.1073942 19.531095 3.0679423 19.402344 3.0410156 C 19.401719 3.0408874 19.401016 3.0411432 19.400391 3.0410156 C 19.270982 3.0140817 19.136633 3 19 3 L 5 3 z M 6 6 L 7 6 C 13.065 6 18 10.935 18 17 L 18 18 L 16 18 L 16 17 C 16 12.037 11.963 8 7 8 L 6 8 L 6 6 z M 6 10 L 7 10 C 10.859 10 14 13.141 14 17 L 14 18 L 12 18 L 12 17 C 12 14.243 9.757 12 7 12 L 6 12 L 6 10 z M 7.5 15 C 8.328 15 9 15.672 9 16.5 C 9 17.328 8.328 18 7.5 18 C 6.672 18 6 17.328 6 16.5 C 6 15.672 6.672 15 7.5 15 z"/>
                    </svg> RSS
                </a>
                <br>
                © 2016 - {{ thisYear }} {{ name }} ({{ username }}). All Rights Reserved.
            </div>
        </footer>
    </div>
    {% endif %}
    {% comment %} Imported CSS and JS frameworks {% endcomment %}
    {% stylesheet 'frameworks' %}
    {% javascript 'frameworks' %}
    <script>
        (function (f, a, t, h, o, m) {
            a[h] = a[h] || function () {
                (a[h].q = a[h].q || []).push(arguments)
            };
            o = f.createElement('script'),
                m = f.getElementsByTagName('script')[0];
            o.async = 1; o.src = t; o.id = 'fathom-script';
            m.parentNode.insertBefore(o, m)
        })(document, window, '//stats.ceiphr.com/tracker.js', 'fathom');
        fathom('set', 'siteId', 'MCJMJ');
        fathom('trackPageview');
    </script>
</body>

</html>